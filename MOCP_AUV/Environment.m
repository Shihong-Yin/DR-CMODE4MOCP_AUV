function [AUV, ENV] = Environment(caseNum)
% Environment 输入测试环境编号，返回相应的信息
% searchRange 搜索x, y, z范围
% startPos 为起始点位置
% goalPos 为目标点位置
% threat 为威胁区域
% caseNum 为测试环境编号

AUV.P_cruise = 0.08; % 巡航的单位能耗kW
AUV.P_turn = 0.03; % 转向引起的额外能耗，假设满转90度相当于消耗额外0.03 kW
AUV.P_climb = 0.02; % 爬升引起的额外能耗，假设爬升1米相当于消耗额外0.02 kW

ENV.dim = 3; % 3维路径
switch caseNum
    case 1
        AUV.num = 6; % AUV的数量
        AUV.cruise = [2.31, 2.35, 2.16, 2.27, 2.09, 2.43]; % 最大巡航速度
        AUV.initialBattery = [13.37, 14.49, 14.87, 14.60, 14.66, 14.69]; % 初始电池容量
        AUV.startPos = [0 50 -50; 16.6667 0 -50; 83.3333 0 -50; 100 50 -50; 83.3333 100 -50; 16.6667 100 -50]; %%% 起始点
        AUV.goalPos = [100 50 -50; 83.3333 100 -50; 16.6667 100 -50; 0 50 -50; 16.6667 0 -50; 83.3333 0 -50]; %%% 目标点

        % 涡流参数
        ENV.vortices = [
            25, 50, -25, -63, 10;   % 涡1: 涡心(25,50,-25)，λ≈6.3·ζ·U0，U0取1
            50, 75, -40,  95, 15;   % 涡2: 涡心(50,75,-40)
            75, 25, -60, -75, 12    % 涡3: 涡心(75,25,-60)
            ];
        ENV.threats = [
            19, 22, -34, 9.00, 9.00, 9.00, 1.00, 1.00, 1.00
            19, 25, -82, 5.17, 9.24, 9.66, 1.51, 1.63, 1.61
            20, 82, -84, 10.00, 10.00, 10.00, 1.00, 1.00, 1.00
            22, 50, -58, 10.00, 12.00, 40.00, 0.50, 0.50, 1.00
            25, 80, -37, 9.78, 7.42, 25.00, 0.71, 1.13, 1.87
            45, 45, -49, 5.54, 28.77, 10.38, 1.51, 1.48, 1.74
            55, 58, -73, 15.58, 5.42, 6.78, 0.93, 0.97, 2.35
            69, 32, -84, 13.00, 13.00, 13.00, 1.00, 1.00, 1.00
            69, 89, -46, 17.73, 5.69, 10.74, 0.88, 1.76, 0.88
            79, 66, -33, 12.53, 12.15, 28.38, 1.06, 1.04, 0.22
            80, 24, -41, 10.74, 7.98, 16.25, 0.80, 0.80, 1.00
            81, 80, -83, 4.57, 12.16, 7.49, 1.21, 1.20, 1.02
            ];
    case 2
        AUV.num = 8; % AUV的数量
        AUV.cruise = [2.31, 2.35, 2.16, 2.27, 2.09, 2.43, 2.45, 2.02]; % 最大巡航速度
        AUV.initialBattery = [13.37, 14.49, 14.87, 14.60, 14.66, 14.69, 14.39, 13.34]; % 初始电池容量
        AUV.startPos = [0 50 -50; 0 0 -50; 50 0 -50; 100 0 -50; 100 50 -50; 100 100 -50; 50 100 -50; 0 100 -50]; %%% 起始点
        AUV.goalPos = [100 50 -50; 100 100 -50; 50 100 -50; 0 100 -50; 0 50 -50; 0 0 -50; 50 0 -50; 100 0 -50]; %%% 目标点

        % 涡流参数
        ENV.vortices = [
            25, 50, -25, -63, 10;   % 涡1: 涡心(25,50,-25)，λ≈6.3·ζ·U0，U0取1
            50, 75, -40,  95, 15;   % 涡2: 涡心(50,75,-40)
            75, 25, -60, -75, 12    % 涡3: 涡心(75,25,-60)
            ];
        ENV.threats = [
            19, 22, -34, 9.00, 9.00, 9.00, 1.00, 1.00, 1.00
            19, 25, -82, 5.17, 9.24, 9.66, 1.51, 1.63, 1.61
            20, 82, -84, 10.00, 10.00, 10.00, 1.00, 1.00, 1.00
            22, 50, -58, 10.00, 12.00, 40.00, 0.50, 0.50, 1.00
            25, 80, -37, 9.78, 7.42, 25.00, 0.71, 1.13, 1.87
            45, 45, -49, 5.54, 28.77, 10.38, 1.51, 1.48, 1.74
            55, 58, -73, 15.58, 5.42, 6.78, 0.93, 0.97, 2.35
            69, 32, -84, 13.00, 13.00, 13.00, 1.00, 1.00, 1.00
            69, 89, -46, 17.73, 5.69, 10.74, 0.88, 1.76, 0.88
            79, 66, -33, 12.53, 12.15, 28.38, 1.06, 1.04, 0.22
            80, 24, -41, 10.74, 7.98, 16.25, 0.80, 0.80, 1.00
            81, 80, -83, 4.57, 12.16, 7.49, 1.21, 1.20, 1.02
            ];
    case 3
        AUV.num = 10; % AUV的数量
        AUV.cruise = [2.31, 2.35, 2.16, 2.27, 2.09, 2.43, 2.45, 2.02, 2.15, 2.32]; % 最大巡航速度
        AUV.initialBattery = [13.37, 14.49, 14.87, 14.60, 14.66, 14.69, 14.39, 13.34, 14.40, 12.21]; % 初始电池容量
        AUV.startPos = [0 100 -80; 0 95 -80; 0 90 -80; 0 85 -80; 5 100 -80; 5 95 -80; 5 90 -80; 10 100 -80; 10 95 -80; 15 100 -80]; %%% 起始点
        AUV.goalPos = [100 0 -20; 100 5 -20; 100 10 -20; 100 15 -20; 95 0 -20; 95 5 -20; 95 10 -20; 90 0 -20; 90 5 -20; 85 0 -20]; %%% 目标点

        % 涡流参数
        ENV.vortices = [
            25, 50, -25, -63, 10;   % 涡1: 涡心(25,50,-25)，λ≈6.3·ζ·U0，U0取1
            50, 75, -40,  95, 15;   % 涡2: 涡心(50,75,-40)
            75, 25, -60, -75, 12    % 涡3: 涡心(75,25,-60)
            ];
        ENV.threats = [
            19, 22, -34, 9.00, 9.00, 9.00, 1.00, 1.00, 1.00
            19, 25, -82, 5.17, 9.24, 9.66, 1.51, 1.63, 1.61
            20, 82, -84, 10.00, 10.00, 10.00, 1.00, 1.00, 1.00
            22, 50, -58, 10.00, 12.00, 40.00, 0.50, 0.50, 1.00
            25, 80, -37, 9.78, 7.42, 25.00, 0.71, 1.13, 1.87
            45, 45, -49, 5.54, 28.77, 10.38, 1.51, 1.48, 1.74
            55, 58, -73, 15.58, 5.42, 6.78, 0.93, 0.97, 2.35
            69, 32, -84, 13.00, 13.00, 13.00, 1.00, 1.00, 1.00
            69, 89, -46, 17.73, 5.69, 10.74, 0.88, 1.76, 0.88
            79, 66, -33, 12.53, 12.15, 28.38, 1.06, 1.04, 0.22
            80, 24, -41, 10.74, 7.98, 16.25, 0.80, 0.80, 1.00
            81, 80, -83, 4.57, 12.16, 7.49, 1.21, 1.20, 1.02
            ];
    case 4
        AUV.num = 8; % AUV的数量
        AUV.cruise = [2.31, 2.35, 2.16, 2.27, 2.09, 2.43, 2.45, 2.02]; % 最大巡航速度
        AUV.initialBattery = [13.37, 14.49, 14.87, 14.60, 14.66, 14.69, 14.39, 13.34]; % 初始电池容量
        AUV.startPos = [0 50 -50; 0 0 -50; 50 0 -50; 100 0 -50; 100 50 -50; 100 100 -50; 50 100 -50; 0 100 -50]; %%% 起始点
        AUV.goalPos = [100 50 -50; 100 100 -50; 50 100 -50; 0 100 -50; 0 50 -50; 0 0 -50; 50 0 -50; 100 0 -50]; %%% 目标点

        % 涡流参数
        ENV.vortices = [
            25, 50, -25, -63, 10;   % 涡1: 涡心(25,50,-25)，λ≈6.3·ζ·U0，U0取1
            50, 75, -40,  95, 15;   % 涡2: 涡心(50,75,-40)
            75, 25, -60, -75, 12    % 涡3: 涡心(75,25,-60)
            ];

        % === 时变洋流参数 ===
        % 强度随时间起伏：lambda_t = lambda0 * (1 + A_lambda * sin(omega_lambda * t + phi_lambda))
        % 涡心小幅漂移：  c_t = c0 + A_shift .* sin(omega_shift * t + phi_shift)
        % 随机噪声（加到速度分量上）：N(0, noise_std^2)
        ENV.currTemporal.A_lambda   = 0.30;           % 强度起伏幅度（0~0.5常用）
        ENV.currTemporal.omega_lam  = 2*pi/600;       % 强度起伏角频率（单位：1/s，按仿真时间标度设置）
        ENV.currTemporal.phi_lam    = 0.0;            % 强度相位
        ENV.currTemporal.A_shift    = [2, 2, 1];      % 涡心漂移幅度（单位与坐标一致）
        ENV.currTemporal.omega_shift= 2*pi/900;       % 漂移角频率
        ENV.currTemporal.phi_shift  = [0, pi/3, pi/6];% 漂移相位
        ENV.currTemporal.noise_std  = 0.02;           % 速度噪声标准差（m/s 量级，自行调参）

        ENV.threats = [
            19, 22, -34, 9.00, 9.00, 9.00, 1.00, 1.00, 1.00
            19, 25, -82, 5.17, 9.24, 9.66, 1.51, 1.63, 1.61
            20, 82, -84, 10.00, 10.00, 10.00, 1.00, 1.00, 1.00
            22, 50, -58, 10.00, 12.00, 40.00, 0.50, 0.50, 1.00
            25, 80, -37, 9.78, 7.42, 25.00, 0.71, 1.13, 1.87
            45, 45, -49, 5.54, 28.77, 10.38, 1.51, 1.48, 1.74
            55, 58, -73, 15.58, 5.42, 6.78, 0.93, 0.97, 2.35
            69, 32, -84, 13.00, 13.00, 13.00, 1.00, 1.00, 1.00
            69, 89, -46, 17.73, 5.69, 10.74, 0.88, 1.76, 0.88
            79, 66, -33, 12.53, 12.15, 28.38, 1.06, 1.04, 0.22
            80, 24, -41, 10.74, 7.98, 16.25, 0.80, 0.80, 1.00
            81, 80, -83, 4.57, 12.16, 7.49, 1.21, 1.20, 1.02
            ];
end
AUV.searchRange = [0, 100; 0, 100; -100, 0]; % 搜索x、y、z范围
AUV.density = 100; % 插值密度
AUV.safeDist = 3; % 最小安全距离
end